<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="./dist/css/style.css" rel="stylesheet">

    <title>coding test</title>
</head>
<body>
    <main class="main">
        <h1>지원자 이명민</h1>
        
        <div class="container">
            <article class="content-1">
                <h2>과제 1. 카드 Ul</h2>
                <ul>
                    <li>
                        <div class="card">
                            <figure>
                                <img src="./dist/img/idus.png" alt="아이디어스 이미지">
                                <figcaption>
                                    <em>Card Label</em>
                                    <strong>Card Title</strong>
                                    <div><mark>Hilight</mark><del>Cross Out</del></div>
                                </figcaption>
                            </figure>
                            <div class="rating-box">
                                <div class="rating">
                                    <input type="radio" id="score5" name="rating" value="5" /><label for="score5">●</label>
                                    <input type="radio" id="score4" name="rating" value="4" /><label for="score4">●</label>
                                    <input type="radio" id="score3" name="rating" value="3" /><label for="score3">●</label>
                                    <input type="radio" id="score2" name="rating" value="2" /><label for="score2">●</label>
                                    <input type="radio" id="score1" name="rating" value="1" /><label for="score1">●</label>
                                </div>
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="card-row">
                            <img src="./dist/img/idus.png" alt="아이디어스 이미지">
                            <div class="cotnent-box">
                                <strong>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</strong>
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                                <div class="rating-box">
                                    <div class="rating">
                                        <input type="radio" id="row-score5" name="row-rating" value="5" /><label for="row-score5">●</label>
                                        <input type="radio" id="row-score4" name="row-rating" value="4" /><label for="row-score4">●</label>
                                        <input type="radio" id="row-score3" name="row-rating" value="3" /><label for="row-score3">●</label>
                                        <input type="radio" id="row-score2" name="row-rating" value="2" /><label for="row-score2">●</label>
                                        <input type="radio" id="row-score1" name="row-rating" value="1" /><label for="row-score1">●</label>
                                    </div>
                                    <span>John Doe</span>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </article>
            
            <article class="content-2">
                <h2>과제 2. 입력 폼 Ul</h2>
                <form action="" method="" name="textForm">
                     <!--default상태, 입력중-->
                     <div class="area">
                        <textarea class="textbox-1" name="textbox1" rows="4" cols="100"  onkeyup="doCheck(this);" placeholder="초기값이 있을수 있습니다."></textarea>
                        <input class="number" type="text" name="cnt" value=500 readonly>
                        <input type="submit" value="Save" class="button" id="button">
                     </div>
                    <!--비활성화-->
                    <textarea class="textbox-2" name="textbox2" rows="4" cols="100" disabled>주문 요청사항을 입력해주세요.</textarea>
                    <!--읽기전용-->
                    <textarea class="textbox-3" name="textbox3" rows="10" cols="100" readonly="readonly">읽기 전용 상태 입니다.</textarea>
                </form>

               
            </article>
        </div>
    </main>

    <script src="./dist/js/bundle.js"></script>
    <script>

        function doCheck(obj){
            var total = 500;
            var chkCnt = document.textForm.textbox1.value.length;
            var cnt=total-chkCnt;
        
            var str = document.textForm.textbox1.value;
            var str2 = "";
            var rbyte = 0;
            var one_char = "";

            var but = document.getElementById('button')
            
             //남은 글자수 체크
             document.textForm.cnt.value=cnt;

            //글자수 자르기
            for (var i = 0; i < chkCnt; i++) {
                one_char = str.charAt(i);
        
                if (escape(one_char).length > 4) {
                    rbyte++; 
                } else {
                    rbyte++; 
                }
        
                if (rbyte <= total) {
                    rlen = i + 1; //return할 문자열 갯수
                }
            }

            if (rbyte > total) {
                alert("초과 입력할 수 없습니다.");
                str2 = str.substr(0, rlen); //문자열 자르기
                obj.value = str2;
                doCheck(obj, total);
            }
            
            //save 버튼 활성화
            if (chkCnt > 0) {
                but.style.display='inline-block'
            }
        }  

    </script>
</body>
</html>